See the protect_critical_region for the output of the program.
